var plotId='[PLOTID]';var plotDiv=document.getElementById(plotId);var plotData=plotDiv.data;var plotLayout=plotDiv.layout;var toggleNote=!1;var toggleDraw=!1;var drawPoints=[];function doToggleNote(){toggleNote=!1;other=document.querySelectorAll('[data-attr="notemode"]');other[0].setAttribute("data-toggle",!1)};function doToggleDraw(){toggleDraw=!1;other=document.querySelectorAll('[data-attr="linemode"]');other[0].setAttribute("data-toggle",!1)};plotDiv.on('plotly_click',function(data){if(toggleNote){if(!("annotations" in plotLayout)){plotLayout.annotations=[]};dt=data.points[0];plotLayout.annotations.push({text:'Click to edit. Drag the text <br> or the arrow to move around.',x:dt.x,y:dt.y,xref:dt.xaxis._id,yref:dt.yaxis._id,showarrow:!0,color:'rgb(255, 0, 0)'});Plotly.update(plotId,plotData,plotLayout)}else if(toggleDraw){dt=data.points[0];drawPoints.push([dt.x,dt.y,dt.xaxis._id,dt.yaxis._id]);if(drawPoints.length>1){if(drawPoints[0][2]==drawPoints[1][2]&&drawPoints[0][3]==drawPoints[1][3]){if(!("shapes" in plotLayout)){plotLayout.shapes=[]};plotLayout.shapes.push({type:'line',xfref:dt.xaxis._id,yref:dt.yaxis._id,x0:drawPoints[0][0],y0:drawPoints[0][1],x1:drawPoints[1][0],y1:drawPoints[1][1],line:{width:2,opacity:0.75,dash:"dot"}});Plotly.update(plotId,plotData,plotLayout)};drawPoints=[]}}})